<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Russisch Grammatik: Minimalpaare (Shuffle-Modus)</title>
    <script src="https://cdn.jsdelivr.net/npm/drag-drop-touch@1.3.1/DragDropTouch.js"></script>
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --success-color: #28a745;
            --error-color: #dc3545;
            --bg-color: #f8f9fa;
            --card-bg: #ffffff;
            --text-color: #333;
        }

        body {
            font-family: Arial, Helvetica, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            margin: 0;
            padding: 15px;
            display: flex;
            justify-content: center;
        }

        /* Verhindert Kursivschrift global */
        * { font-style: normal !important; }

        .container {
            width: 100%;
            max-width: 900px;
            background: var(--card-bg);
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        h1, h2 { text-align: center; color: var(--primary-color); }

        .explanation {
            background: #fff3e0;
            padding: 20px;
            border-left: 6px solid #ff9800;
            margin-bottom: 30px;
            border-radius: 4px;
        }

        .exercise-card {
            border: 1px solid #e1e8ed;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 35px;
            background: #fff;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .pair-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .sentence-box {
            background: #fdfdfd;
            padding: 15px;
            border: 1px solid #eee;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .russian-text {
            font-size: 1.1rem;
            font-weight: bold;
            margin-bottom: 15px;
            color: var(--primary-color);
            min-height: 3.5em;
            display: flex;
            align-items: center;
            border-bottom: 1px solid #f0f0f0;
            padding-bottom: 10px;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .option-btn {
            background: white;
            border: 1.5px solid var(--secondary-color);
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.85rem;
            transition: all 0.2s;
            text-align: left;
            font-weight: bold;
            color: var(--text-color);
        }

        .option-btn:hover {
            background: #f0f7ff;
        }

        /* Status-Farben */
        .option-btn.correct {
            background-color: var(--success-color) !important;
            color: white !important;
            border-color: var(--success-color) !important;
        }

        .option-btn.wrong {
            background-color: var(--error-color) !important;
            color: white !important;
            border-color: var(--error-color) !important;
        }

        .button-bar {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            border-top: 2px solid #eee;
            padding-top: 25px;
            flex-wrap: wrap;
        }

        .main-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            color: white;
            font-size: 1rem;
        }

        .btn-reset { background: #e67e22; }
        .btn-solution { background: var(--secondary-color); }

        @media (max-width: 700px) {
            .pair-container { grid-template-columns: 1fr; }
            .russian-text { min-height: auto; }
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Russische Grammatik</h1>
    <h2>Minimalpaare: Profi-Modus</h2>

    <div class="explanation">
        <strong>Achtung:</strong> In dieser Version sind die Antwort-Buttons und die Reihenfolge der Sätze <strong>zufällig vertauscht</strong>. Lesen Sie genau, was auf dem Button steht, bevor Sie klicken!
        <br><br>
        Ziel: Unterscheidung zwischen reiner <strong>Anzahl</strong> (МНОГО) und einer <strong>Teilmenge/Eigenschaft</strong> (МНОГИЕ).
    </div>

    <div id="exercise-list">
        <!-- Inhalte werden per JS generiert -->
    </div>

    <div class="button-bar">
        <button class="main-btn btn-reset" onclick="shuffleAndRender()">Alles mischen & neu starten</button>
        <button class="main-btn btn-solution" onclick="showAllSolutions()">Lösungen aufdecken</button>
    </div>
</div>

<script>
    const pairData = [
        {
            sentences: [
                { text: "Вчера на стадионе было много людей.", type: "anzahl" },
                { text: "Многие люди не любят футбол.", type: "gruppe" }
            ]
        },
        {
            sentences: [
                { text: "В библиотеке много новых книг.", type: "anzahl" },
                { text: "Многие книги здесь уже прочитаны.", type: "gruppe" }
            ]
        },
        {
            sentences: [
                { text: "На столе лежало много яблок.", type: "anzahl" },
                { text: "Многие яблоки были кислыми.", type: "gruppe" }
            ]
        },
        {
            sentences: [
                { text: "В классе учится много студентов.", type: "anzahl" },
                { text: "Многие студенты работают после учёбы.", type: "gruppe" }
            ]
        },
        {
            sentences: [
                { text: "В городе много красивых парков.", type: "anzahl" },
                { text: "Многие парки закрыты на ремонт.", type: "gruppe" }
            ]
        },
        {
            sentences: [
                { text: "В тексте было много ошибок.", type: "anzahl" },
                { text: "Многие ошибки были очень глупыми.", type: "gruppe" }
            ]
        },
        {
            sentences: [
                { text: "На конференции было много экспертов.", type: "anzahl" },
                { text: "Многие эксперты не согласны с этим.", type: "gruppe" }
            ]
        },
        {
            sentences: [
                { text: "Я посмотрел много фильмов в этом году.", type: "anzahl" },
                { text: "Многие фильмы мне не понравились.", type: "gruppe" }
            ]
        },
        {
            sentences: [
                { text: "У меня было много вопросов к учителю.", type: "anzahl" },
                { text: "Многие вопросы остались без ответа.", type: "gruppe" }
            ]
        },
        {
            sentences: [
                { text: "В Европе много маленьких стран.", type: "anzahl" },
                { text: "Многие страны подписали этот договор.", type: "gruppe" }
            ]
        }
    ];

    function shuffleAndRender() {
        const list = document.getElementById('exercise-list');
        list.innerHTML = '';
        
        // Paare mischen
        const mixedPairs = [...pairData].sort(() => Math.random() - 0.5);

        mixedPairs.forEach((pair, pIndex) => {
            const card = document.createElement('div');
            card.className = 'exercise-card';
            
            let html = `<div style="margin-bottom: 15px; font-weight: bold; color: #e67e22;">Satzpaar ${pIndex + 1}</div>`;
            html += `<div class="pair-container">`;

            // Sätze innerhalb des Paares mischen (links/rechts Tausch)
            const mixedSentences = [...pair.sentences].sort(() => Math.random() - 0.5);

            mixedSentences.forEach((s, sIndex) => {
                // Antwort-Optionen für diesen speziellen Satz mischen
                const options = [
                    { label: "Betont die reine Anzahl", type: "anzahl" },
                    { label: "Betont eine Teilmenge / Eigenschaft", type: "gruppe" }
                ].sort(() => Math.random() - 0.5);

                html += `
                    <div class="sentence-box" id="box-${pIndex}-${sIndex}">
                        <div class="russian-text">${s.text}</div>
                        <div class="options">
                            ${options.map(opt => `
                                <button class="option-btn" 
                                        data-correct-type="${s.type}" 
                                        data-this-type="${opt.type}" 
                                        onclick="checkBtn(this)">
                                    ${opt.label}
                                </button>
                            `).join('')}
                        </div>
                    </div>
                `;
            });

            html += `</div>`;
            card.innerHTML = html;
            list.appendChild(card);
        });
    }

    window.checkBtn = function(btn) {
        const parent = btn.parentElement;
        const buttons = parent.querySelectorAll('.option-btn');
        const correctType = btn.getAttribute('data-correct-type');
        const thisType = btn.getAttribute('data-this-type');

        buttons.forEach(b => b.className = 'option-btn');

        if (thisType === correctType) {
            btn.classList.add('correct');
        } else {
            btn.classList.add('wrong');
        }
    };

    window.showAllSolutions = function() {
        const buttons = document.querySelectorAll('.option-btn');
        buttons.forEach(btn => {
            const correctType = btn.getAttribute('data-correct-type');
            const thisType = btn.getAttribute('data-this-type');
            btn.className = 'option-btn';
            if (thisType === correctType) {
                btn.classList.add('correct');
            }
        });
    };

    document.addEventListener('DOMContentLoaded', shuffleAndRender);
</script>

</body>
</html>